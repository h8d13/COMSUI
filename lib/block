#!/bin/bash

# Colors are already sourced by main script, no need to import again
# Block utility - run commands with colored output
block() {
    local color_func="info"
    case "$1" in
        --info) color_func="info"; shift ;;
        --warn) color_func="warn"; shift ;;
        --gitop) color_func="gitop"; shift ;;
    esac

    # Show command being executed
    $color_func "$* ..."

    # Execute command with errors for syntax
    if eval "$*"; then
        $color_func "Done"
    else
        warn "Failed"
    fi
}