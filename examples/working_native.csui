# Working COMSUI native implementation
info "COMSUI running in Python interpreter!"

# Prerequisites check
block --die "which git"

# Repository validation
if g_check; then
    info "Repository found"
    block --gitop "g_add"
    g_status

    if g_staged; then
        warn "No changes to commit"
    else
        info "Changes detected"
        block --gitop "git commit -m 'Auto commit'"
        info "Committed successfully"
    fi
else
    die "Not in a git repository"
fi