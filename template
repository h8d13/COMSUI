 #!/bin/bash
# template - Generic app template

# Use first parameter or auto-detect app name
if [ -n "$1" ]; then
    APP_NAME="$1"
elif d_ex ".git"; then
    APP_NAME=$(g_repo)
else
    APP_NAME=$(p_name "$(pwd)")
fi
# Copy the main script structure
cat > "$APP_NAME" << EOF
#!/bin/bash

APP=${APP_NAME}
# Load libraries from appropriate locations
if f_ex "\$(dirname "\$0")/\${APP}-lib/colors"; then
    . "\$(dirname "\$0")/\${APP}-lib/colors"
    . "\$(dirname "\$0")/\${APP}-lib/sync"
    . "\$(dirname "\$0")/\${APP}-lib/block"
else
    . "\$(dirname "\$0")/lib/colors"
    . "\$(dirname "\$0")/lib/sync"
    . "\$(dirname "\$0")/lib/block"
fi

# Main app function - customize this part
${APP_NAME}() {
    # Your app logic here
    echo "Running \$APP"
}

# Call the function with script name
\$APP "\$@"
EOF

f_exec "$APP_NAME"
echo "Created executable: $APP_NAME"